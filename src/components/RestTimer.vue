<script setup lang="ts">
import { useRestTimer } from '@/stores/restTimer'

const props = defineProps({
  visibleFunc: {
    type: Function,
    required: true
  }
})

const restTimer = useRestTimer()
</script>
<template>
  <div
    class="flex items-center rounded-2xl px-4 py-2 bg-green100 bg-opacity-[15%] border-green900 dark:border-white border-solid border-2 gap-1 mb-8"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="29" height="26" viewBox="0 0 29 26" fill="none">
      <path
        d="M7.5 5V1C7.5 0.734784 7.60536 0.48043 7.79289 0.292893C7.98043 0.105357 8.23478 0 8.5 0C8.76522 0 9.01957 0.105357 9.20711 0.292893C9.39464 0.48043 9.5 0.734784 9.5 1V5C9.5 5.26522 9.39464 5.51957 9.20711 5.70711C9.01957 5.89464 8.76522 6 8.5 6C8.23478 6 7.98043 5.89464 7.79289 5.70711C7.60536 5.51957 7.5 5.26522 7.5 5ZM12.5 6C12.7652 6 13.0196 5.89464 13.2071 5.70711C13.3946 5.51957 13.5 5.26522 13.5 5V1C13.5 0.734784 13.3946 0.48043 13.2071 0.292893C13.0196 0.105357 12.7652 0 12.5 0C12.2348 0 11.9804 0.105357 11.7929 0.292893C11.6054 0.48043 11.5 0.734784 11.5 1V5C11.5 5.26522 11.6054 5.51957 11.7929 5.70711C11.9804 5.89464 12.2348 6 12.5 6ZM16.5 6C16.7652 6 17.0196 5.89464 17.2071 5.70711C17.3946 5.51957 17.5 5.26522 17.5 5V1C17.5 0.734784 17.3946 0.48043 17.2071 0.292893C17.0196 0.105357 16.7652 0 16.5 0C16.2348 0 15.9804 0.105357 15.7929 0.292893C15.6054 0.48043 15.5 0.734784 15.5 1V5C15.5 5.26522 15.6054 5.51957 15.7929 5.70711C15.9804 5.89464 16.2348 6 16.5 6ZM28.5 13V14C28.4993 15.2715 28.0142 16.495 27.1434 17.4215C26.2726 18.3481 25.0815 18.908 23.8125 18.9875C23.1237 20.9139 21.9634 22.6372 20.4375 24H23.5C23.7652 24 24.0196 24.1054 24.2071 24.2929C24.3946 24.4804 24.5 24.7348 24.5 25C24.5 25.2652 24.3946 25.5196 24.2071 25.7071C24.0196 25.8946 23.7652 26 23.5 26H1.5C1.23478 26 0.98043 25.8946 0.792893 25.7071C0.605357 25.5196 0.5 25.2652 0.5 25C0.5 24.7348 0.605357 24.4804 0.792893 24.2929C0.98043 24.1054 1.23478 24 1.5 24H4.5625C3.28816 22.8718 2.26726 21.4865 1.56704 19.9352C0.866819 18.384 0.503156 16.702 0.5 15V9C0.5 8.73478 0.605357 8.48043 0.792893 8.29289C0.98043 8.10536 1.23478 8 1.5 8H23.5C24.8261 8 26.0979 8.52678 27.0355 9.46447C27.9732 10.4021 28.5 11.6739 28.5 13ZM22.5 10H2.5V15C2.50406 16.8772 3.03448 18.7157 4.03101 20.3066C5.02753 21.8975 6.45023 23.1771 8.1375 24H16.8625C18.1229 23.384 19.2402 22.5107 20.1423 21.4364C21.0445 20.362 21.7114 19.1105 22.1 17.7625C22.1139 17.7397 22.1225 17.7141 22.125 17.6875C22.3763 16.8139 22.5025 15.909 22.5 15V10ZM26.5 13C26.4993 12.3802 26.3066 11.7758 25.9485 11.27C25.5904 10.7641 25.0844 10.3816 24.5 10.175V15C24.5008 15.628 24.4506 16.2551 24.35 16.875C24.9705 16.6917 25.515 16.3127 25.9025 15.7946C26.29 15.2765 26.4996 14.647 26.5 14V13Z"
        class="fill-[#14401D] dark:fill-white"
      />
    </svg>
    <span class="text-2xl font-medium text-green900 dark:text-white">Rest</span>
  </div>
  <div class="flex flex-col">
    <span
      class="text-green900 dark:text-green50 select-none font-normal text-[256px] leading-[80%]"
      >{{ restTimer.minutes }}</span
    >
    <span
      class="text-green900 dark:text-green50 select-none font-normal text-[256px] leading-[80%]"
      >{{ restTimer.seconds }}</span
    >
  </div>
  <div class="flex items-center gap-4 mt-8">
    <button
      @click="props.visibleFunc"
      class="w-20 hover:bg-opacity-25 active:bg-opacity-40 h-20 flex flex-col justify-center items-center content-center bg-green100 bg-opacity-[15%] rounded-3xl"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="8" viewBox="0 0 28 8" fill="none">
        <path
          d="M17.5 4C17.5 4.69223 17.2947 5.36892 16.9101 5.94449C16.5256 6.52007 15.9789 6.96867 15.3394 7.23357C14.6999 7.49848 13.9961 7.56779 13.3172 7.43275C12.6383 7.2977 12.0146 6.96435 11.5251 6.47487C11.0356 5.98539 10.7023 5.36175 10.5673 4.68281C10.4322 4.00388 10.5015 3.30015 10.7664 2.66061C11.0313 2.02107 11.4799 1.47444 12.0555 1.08986C12.6311 0.705271 13.3078 0.5 14 0.5C14.9272 0.503294 15.8156 0.873101 16.4712 1.52877C17.1269 2.18443 17.4967 3.07275 17.5 4ZM4 0.5C3.30777 0.5 2.63108 0.705271 2.05551 1.08986C1.47993 1.47444 1.03133 2.02107 0.766423 2.66061C0.501516 3.30015 0.432205 4.00388 0.567253 4.68281C0.702301 5.36175 1.03564 5.98539 1.52513 6.47487C2.01461 6.96435 2.63825 7.2977 3.31719 7.43275C3.99612 7.56779 4.69985 7.49848 5.33939 7.23357C5.97894 6.96867 6.52556 6.52007 6.91015 5.94449C7.29473 5.36892 7.5 4.69223 7.5 4C7.49671 3.07275 7.1269 2.18443 6.47124 1.52877C5.81557 0.873101 4.92725 0.503294 4 0.5ZM24 0.5C23.3078 0.5 22.6311 0.705271 22.0555 1.08986C21.4799 1.47444 21.0313 2.02107 20.7664 2.66061C20.5015 3.30015 20.4322 4.00388 20.5673 4.68281C20.7023 5.36175 21.0356 5.98539 21.5251 6.47487C22.0146 6.96435 22.6383 7.2977 23.3172 7.43275C23.9961 7.56779 24.6999 7.49848 25.3394 7.23357C25.9789 6.96867 26.5256 6.52007 26.9101 5.94449C27.2947 5.36892 27.5 4.69223 27.5 4C27.4967 3.07275 27.1269 2.18443 26.4712 1.52877C25.8156 0.873101 24.9272 0.503294 24 0.5Z"
          class="fill-green900 dark:fill-green50"
        />
      </svg>
    </button>
    <button
      v-if="restTimer.mode === 'pause'"
      @click="restTimer.timerStart"
      class="flex justify-center items-center w-32 h-24 bg-green100 bg-opacity-70 hover:bg-opacity-[85%] active:bg-opacity-95 rounded-[32px]"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="22"
        height="26"
        viewBox="0 0 22 26"
        fill="none"
      >
        <path
          d="M22 13C21.9993 13.3439 21.9104 13.6818 21.7419 13.9816C21.5734 14.2814 21.3309 14.533 21.0375 14.7125L3.03751 25.7C2.73768 25.89 2.39141 25.9939 2.03651 26.0006C1.68161 26.0072 1.33171 25.9162 1.02501 25.7375C0.713773 25.5667 0.454317 25.3152 0.27394 25.0095C0.0935623 24.7037 -0.00106682 24.355 9.07295e-06 24V1.99996C-0.00106682 1.64496 0.0935623 1.29623 0.27394 0.990471C0.454317 0.684709 0.713773 0.433218 1.02501 0.26246C1.33171 0.0837584 1.68161 -0.00725329 2.03651 -0.000640198C2.39141 0.00597289 2.73768 0.109956 3.03751 0.29996L21.0375 11.2875C21.3309 11.4669 21.5734 11.7185 21.7419 12.0183C21.9104 12.3181 21.9993 12.6561 22 13Z"
          class="fill-green900 dark:fill-green50"
        />
      </svg>
    </button>
    <button
      v-if="restTimer.mode === 'rest'"
      @click="restTimer.timerEnd"
      class="flex justify-center items-center w-32 h-24 bg-green100 bg-opacity-60 hover:bg-opacity-[85%] active:bg-opacity-95 rounded-[32px]"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="22"
        height="24"
        viewBox="0 0 22 24"
        fill="none"
      >
        <path
          d="M22 2V22C22 22.5304 21.7893 23.0391 21.4142 23.4142C21.0391 23.7893 20.5304 24 20 24H15.5C14.9696 24 14.4609 23.7893 14.0858 23.4142C13.7107 23.0391 13.5 22.5304 13.5 22V2C13.5 1.46957 13.7107 0.960859 14.0858 0.585786C14.4609 0.210714 14.9696 0 15.5 0H20C20.5304 0 21.0391 0.210714 21.4142 0.585786C21.7893 0.960859 22 1.46957 22 2ZM6.5 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V22C0 22.5304 0.210714 23.0391 0.585786 23.4142C0.960859 23.7893 1.46957 24 2 24H6.5C7.03043 24 7.53914 23.7893 7.91421 23.4142C8.28929 23.0391 8.5 22.5304 8.5 22V2C8.5 1.46957 8.28929 0.960859 7.91421 0.585786C7.53914 0.210714 7.03043 0 6.5 0Z"
          class="fill-green900 dark:fill-green50"
        />
      </svg>
    </button>
    <button
      @click="restTimer.toWork"
      class="w-20 h-20 flex hover:bg-opacity-25 active:bg-opacity-40 items-center justify-center content-center bg-green100 bg-opacity-[15%] rounded-3xl"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="20"
        viewBox="0 0 30 20"
        fill="none"
      >
        <path
          d="M29.65 9.99989C29.6515 10.3351 29.5688 10.6653 29.4093 10.9602C29.2499 11.2551 29.0189 11.5051 28.7375 11.6874L17.5875 18.8499C17.2849 19.0459 16.935 19.1565 16.5747 19.17C16.2144 19.1835 15.8572 19.0993 15.5408 18.9264C15.2244 18.7535 14.9607 18.4982 14.7775 18.1877C14.5943 17.8772 14.4984 17.5229 14.5 17.1624V11.8374L3.58752 18.8499C3.28494 19.0459 2.93499 19.1565 2.5747 19.17C2.21441 19.1835 1.85717 19.0993 1.5408 18.9264C1.22443 18.7535 0.960685 18.4982 0.777472 18.1877C0.59426 17.8772 0.498395 17.5229 0.50002 17.1624V2.83739C0.498395 2.47685 0.59426 2.12258 0.777472 1.81205C0.960685 1.50153 1.22443 1.24631 1.5408 1.07339C1.85717 0.900478 2.21441 0.816299 2.5747 0.829765C2.93499 0.84323 3.28494 0.953839 3.58752 1.14989L14.5 8.16239V2.83739C14.4984 2.47685 14.5943 2.12258 14.7775 1.81205C14.9607 1.50153 15.2244 1.24631 15.5408 1.07339C15.8572 0.900478 16.2144 0.816299 16.5747 0.829765C16.935 0.84323 17.2849 0.953839 17.5875 1.14989L28.7375 8.31239C29.0189 8.49466 29.2499 8.74472 29.4093 9.03959C29.5688 9.33445 29.6515 9.66467 29.65 9.99989Z"
          class="fill-green900 dark:fill-green50"
        />
      </svg>
    </button>
  </div>
</template>

<style lang=""></style>
